# Stage 1 RAG 项目岗位分工（详细版）

## 产品经理（PM）
- **需求治理**：与客服、售后工程师、App 团队共同整理多渠道问答清单，定义 persona/语气规范、输出格式、无答案策略。
- **文档与评审**：维护 `docs/product/rag-stage1-prd.md`、`docs/product/roadmap.md`，组织需求评审、设计评审、上线评审，推动里程碑（M1–M5）按计划推进。
- **业务指标**：设定并追踪北极星指标（如 App 转人工率下降、满意度提升），协调灰度范围与验收标准，准备上线宣讲材料。

## 数据 / 知识工程师（Stage 1 由后端工程师兼任）
- **数据源对接**：确认手册、FAQ、工单、设备状态等数据的采集方式、权限、更新频率、脱敏规则，维护 `docs/sources.md`。
- **清洗与分块策略**：制定编码统一、噪声去除、结构提取、实体脱敏规则；输出 `configs/ingest.yaml` 记录分块长度、重叠等参数。
- **向量化流水线**：按照 `vectorization-guide.md` 实现批量导入、嵌入生成、旧分块失效重建与增量更新；为每次导入产出处理日志与抽检报告。
- **质量抽检**：与 QA 共同维护黄金语料集，定期抽样校验 chunk 内容、元数据、embedding 维度，并记录在 `reports/ingest_quality_{date}.md`。

## 后端 / AI 平台工程师（兼任 AI / NLP 研究工程师）
- **基础设施**：搭建 Postgres + pgvector（或既定向量库），设计 DAO/Service 层，处理检索、元数据过滤、缓存。
- **RAG Pipeline**：集成 DashScope Embedding/Chat，落实 Query 预处理、重写、检索、重排序、Prompt 组装、置信度计算；实现 `channel`/`persona`/`capabilities` 参数逻辑。
- **接口与鉴权**：提供 `/api/rag/query`、`/api/rag/feedback`、`/actuator/health` 等接口；实现 API Key/网关鉴权、限流、Tracing、结构化日志。
- **评估与优化**：维护 `prompt-eval-guide.md` 中的策略；设计黄金评测脚本、Prompt 审计流程与指标看板，驱动持续优化。
- **测试与自动化**：编写单测、集成测试、性能测试与渠道语气回归；将向量化、评测、部署纳入 CI/CD pipeline。

## 前端 / 客户端工程师（App 团队）
- **接口集成**：封装调用 `/api/rag/query`，携带 `channel=app`、`persona`、能力偏好等参数；处理低置信度提示、引用展示、延迟反馈。
- **UI/UX 落地**：设计符合 App 体验的答案卡片、引用跳转、操作指引；接入 `/api/rag/feedback` 收集满意度与人工修正。
- **联调与监控**：与后端统一 request_id 与日志字段；在 App 端埋点记录召回效果、转人工行为。

## 测试工程师 / QA
- **测试计划**：覆盖多渠道、多 persona、多能力域的功能、接口、性能测试；对关键流程编写自动化脚本。
- **黄金集维护**：与 PM、研发协作更新黄金问答与引用，使用自动化评测工具验证 Faithfulness/Context Precision 等指标。
- **验收与灰度支持**：参与灰度测试、回归测试，输出测试报告与风险提示。

## 运维 / SRE
- **部署与安全**：管理部署流水线、配置 DashScope 密钥、设置访问控制；定期审计权限。
- **监控与告警**：建设日志/指标/Tracing 系统，关注模型错误率、延迟、Token 成本、低置信度率；配置告警与应急预案。
- **运维工具**：提供 persona 配置热更新、向量库备份恢复、容量规划脚本。

## 运营 / 客服培训
- **反馈闭环**：收集“不满意”案例、人工兜底记录、用户评价，输入数据团队与 PM 进行知识更新与 Prompt 调整。
- **培训与推广**：组织客服、工程师培训，制定 App 提示文案、常见问题卡片；监控满意度与转人工率，并定期复盘。

## 项目管理 / 协调机制
- **例会与看板**：每周项目例会同步进度、风险；使用 Jira/禅道/Notion 等维护任务与责任人。
- **文档与版本化**：统一存放 PRD、路线图、persona 模板、配置文件、测试脚本、评估报告；所有策略变更需要 PR 评审与记录。
- **上线流程**：定义灰度计划、回滚策略、沟通手册，确保跨团队对关键变更（Prompt、数据、接口）有共同认知。
